(this["webpackJsonpwiz-calc-2"]=this["webpackJsonpwiz-calc-2"]||[]).push([[0],{48:function(e,a,t){e.exports=t(60)},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(22),l=t.n(c),o=t(45),u=t(19),i=t(37),m=t(5),p=t(65),s=t(66),d=t(69),b=t(63),h=t(64),f=t(32),g="solid 3px",v=t(31),E=function(e){var a=e.children,t=Object(v.a)(e,["children"]);return r.a.createElement(b.a,Object.assign({spacing:"5px",boxShadow:"md",border:g,borderRadius:"10px",w:"100%",borderColor:"gray.300"},t),a)},x=t(38),w=t(46),y=function(e){var a=e.label,t=Object(v.a)(e,["label"]);return r.a.createElement(m.a,null,r.a.createElement(x.a,null,a),r.a.createElement(w.a,t))},C=function(e){var a=e.character,t=e.dispatch;return r.a.createElement(E,null,r.a.createElement(m.a,{p:"10px",borderBottom:g,borderColor:"gray.300",textAlign:"center",fontSize:"20px"},"Character Stats"),r.a.createElement(b.a,{px:"10px",spacing:"5px",pb:"5px"},r.a.createElement(y,{label:"Percent Modifier",value:a.percentModifier,onChange:function(e){e.preventDefault(),t({type:"change_percent",value:e.target.value})}}),r.a.createElement(y,{label:"Flat Damage",value:a.flatDamage,onChange:function(e){e.preventDefault(),t({type:"change_flat",value:e.target.value})}})),r.a.createElement(m.a,{p:"10px",borderBottom:g,borderTop:g,borderColor:"gray.300",fontSize:"20px",textAlign:"center"},"+ / - Charms"),r.a.createElement(b.a,{spacing:"5px",py:"5px",px:"10px"},r.a.createElement(h.a,{height:"212px",resize:"vertical",placeholder:"[percent] [name]",value:a.buffsRaw,onChange:function(e){t({type:"change_buffs",value:e.target.value})}}),r.a.createElement(f.a,{onClick:function(){return t({type:"change_buffs",value:""})},mx:"auto",w:"40%"},"Clear")))},O=t(67),j=t(44),_=function(e){var a=e.dispatch,t=e.id,n=e.deleteSpell;return r.a.createElement(O.d,null,r.a.createElement(O.a,null,r.a.createElement(j.a,{"aria-label":"spell-options",size:"24px"})),r.a.createElement(O.c,null,r.a.createElement(O.b,{onClick:function(){return a({type:"add_base"})}},"Add Base"),r.a.createElement(O.b,{onClick:function(){return a({type:"toggle_enchantment"})}},"Toggle Enchantment"),r.a.createElement(O.b,{onClick:function(){return a({type:"toggle_increment"})}},"Toggle Increment"),r.a.createElement(O.b,{onClick:function(){return n(t)}},"Delete")))},S=t(9),k=function(e){var a=parseInt(e);return a||0},z=function(e){for(var a=0;a<e.bases.length;a++)D(e,a)},D=function(e,a){var t=e.enchantment?e.enchantment:0,n=e.increment?e.increment.base*e.increment.pips:0;return e.damages[a]=function(e,a){for(var t=e.percentModifier,n=e.flatDamage,r=e.buffs,c=Math.floor((1+Number(t)/100)*Number(a)+Number(n)),l=0;l<r.length;l++)c*=1+r[l]/100,c=Math.floor(c);return c}(e.character,e.bases[a]+t+n),e},B=function(e,a){switch(a.type){case"change_name":return Object(S.a)(Object(S.a)({},e),{},{name:a.name});case"add_base":var t=Object(S.a)({},e);return t.bases.push(0),t.damages.push(0),t;case"change_base":var n=Object(S.a)({},e);return n.bases[a.index]=k(a.value),D(n,a.index),n;case"update_character":var r=Object(S.a)({},e);return r.character=a.value,z(r),r;case"toggle_enchantment":var c=Object(S.a)({},e);return void 0===c.enchantment?c.enchantment=0:c.enchantment=void 0,z(c),c;case"change_enchantment":var l=Object(S.a)({},e);return l.enchantment=k(a.value),z(l),l;case"toggle_increment":var o=Object(S.a)({},e);return void 0===o.increment?o.increment={base:0,pips:1}:o.increment=void 0,z(o),o;case"change_increment":var u=Object(S.a)({},e);return console.log(a),void 0!==a.base&&(u.increment.base=k(a.base)),void 0!==a.pips&&(u.increment.pips=k(a.pips)),z(u),u;default:throw new Error("Error")}},M=function(e){var a=e.character,t=e.id,c=e.deleteSpell,l=function(e){var a=e.character,t={id:e.id,name:"Untitled",bases:[0],damages:[0],character:a},c=r.a.useReducer(B,t),l=Object(u.a)(c,2)[1];return Object(n.useEffect)((function(){l({type:"update_character",value:a})}),[a,l]),c}({character:a,id:t}),o=Object(u.a)(l,2),p=o[0],s=o[1];return r.a.createElement(E,null,r.a.createElement(m.a,{p:"5px",borderBottom:g,borderColor:"gray.300"},r.a.createElement(i.a,null,r.a.createElement(i.a,null,r.a.createElement(w.a,{textAlign:"center",fontSize:"20px",mr:"5px",border:"none",spellCheck:"false",value:p.name,onFocus:function(e){e.target.select()},onChange:function(e){e.preventDefault(),s({type:"change_name",name:e.target.value})}})),r.a.createElement(i.a,null,r.a.createElement(_,{dispatch:s,deleteSpell:c,id:t})))),void 0!==p.enchantment?r.a.createElement(m.a,{px:"10px",pb:"10px",borderBottom:g,borderColor:"gray.300"},r.a.createElement(y,{onChange:function(e){s({type:"change_enchantment",value:e.target.value})},value:p.enchantment,label:"Enchantment"})):null,void 0!==p.increment?r.a.createElement(b.a,{px:"10px",pb:"10px",borderBottom:g,borderColor:"gray.300"},r.a.createElement(i.a,null,r.a.createElement(m.a,{pr:"10px"},r.a.createElement(y,{onChange:function(e){s({type:"change_increment",pips:e.target.value})},value:p.increment.pips,label:"Pips"})),r.a.createElement(y,{onChange:function(e){s({type:"change_increment",base:e.target.value})},value:p.increment.base,label:"Increment"}))):null,r.a.createElement(m.a,{px:"10px",pt:"5px",pb:"10px"},p.bases.map((function(e,a){return r.a.createElement(i.a,{key:a},r.a.createElement(m.a,{w:"45%"},r.a.createElement(w.a,{value:e,onChange:function(e){e.preventDefault(),s({type:"change_base",index:a,value:e.target.value})}})),r.a.createElement(i.a,{ml:"auto",w:"50%"},r.a.createElement(x.a,{flexWrap:"wrap",wordBreak:"break-word",my:"auto",ml:"auto",fontSize:"18px",fontWeight:"bold"},p.damages[a].toLocaleString("en",{useGrouping:!0}))))}))))},R=function(){return r.a.createElement(E,null,r.a.createElement(f.a,null,"Save"))},W=function(e,a){switch(a.type){case"change_percent":var t=Object(S.a)({},e);return t.percentModifier=k(a.value),t;case"change_flat":var n=Object(S.a)({},e);return n.flatDamage=k(a.value),n;case"change_buffs":var r=Object(S.a)({},e);return r.buffs=a.value.split("\n").map((function(e){var a=parseInt(e.split(" ")[0]);return a||0})),r.buffsRaw=a.value,r;default:throw new Error("Error")}},A=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.reducer,t=void 0===a?W:a,n={percentModifier:0,flatDamage:0,pierce:0,buffs:[],buffsRaw:"",shields:[],sheldsRaw:""};return r.a.useReducer(t,n)}(),a=Object(u.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([Object(d.a)()]),b=Object(u.a)(l,2),h=b[0],f=b[1],v=function(e){var a=h.indexOf(e);if(-1!==a){for(var t=[],n=0;n<h.length;n++)a!==n&&t.push(h[n]);f(t)}},E=h.map((function(e){return r.a.createElement(i.a,{key:e,mb:"auto",pb:"20px",w:"206px",mr:"20px"},r.a.createElement(M,{id:e,deleteSpell:v,character:t}))}));return r.a.createElement(m.a,{maxW:"900px",pl:"20px",mx:"auto"},r.a.createElement(m.a,{my:"20px",mr:"20px",py:"10px",boxShadow:"md",border:g,borderRadius:"10px",borderColor:"gray.300"},r.a.createElement(p.a,{color:"gray.900",textAlign:"center",size:"xl"},"Wiz Calculator 2")),r.a.createElement(m.a,null,r.a.createElement(m.a,{float:"left",minW:"181px",w:"181px",mr:"20px"},r.a.createElement(m.a,{mb:"20px"},r.a.createElement(C,{character:t,dispatch:c})),r.a.createElement(R,null)),r.a.createElement(i.a,{wrap:"wrap"},E,r.a.createElement(i.a,{w:"216px",mr:"10px"},h.length<12?r.a.createElement(s.a,{variantColor:"blue",boxShadow:"md",mx:"auto",mt:"25px","aria-label":"Add Spellcard",icon:"add",onClick:function(){var e=Object(o.a)(h);e.push(Object(d.a)()),f(e)}}):null))))},I=t(17),N=t(70);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=t(68),F=Object(S.a)({},T.a);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I.a,{theme:F},r.a.createElement(N.a,null),r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.4ac60f15.chunk.js.map