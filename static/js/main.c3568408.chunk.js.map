{"version":3,"sources":["constants.ts","components/LabelNumber.tsx","components/MainCard.tsx","components/CardOptionMenu.tsx","utils/parseNum.ts","components/UseSpell.tsx","utils/calculateDamage.ts","components/SpellCard.tsx","components/UseCharacter.tsx","utils/parseBuffs.ts","App.tsx","serviceWorker.ts","theme.ts","index.tsx"],"names":["BORDER","LabelNumber","label","props","Box","Text","Input","MainCard","character","dispatch","Stack","boxShadow","border","borderRadius","borderColor","p","borderBottom","textAlign","fontSize","pt","px","value","percentModifier","onChange","event","preventDefault","type","target","flatDamage","py","borderTop","mb","pb","Textarea","height","resize","placeholder","buffsRaw","Button","onClick","mx","mt","w","CardOptionMenu","id","deleteSpell","Menu","aria-label","size","parseNum","num","parseInt","dpsCalcAll","newState","i","bases","length","dpsCalc","index","enchantment","increment","base","pips","damages","buffs","dam","Math","floor","Number","calculateDamage","spellReducer","state","action","name","push","undefined","console","log","Error","SpellCard","initState","hook","React","useReducer","useEffect","useSpell","spell","Flex","mr","spellCheck","onFocus","select","pr","map","key","ml","flexWrap","wordBreak","my","fontWeight","toLocaleString","useGrouping","characterReducer","split","element","b","App","reducer","pierce","shields","sheldsRaw","useCharacter","setCharacter","useState","v4","spells","setSpells","indexOf","newSpells","spellCards","maxW","pl","Heading","color","float","minW","wrap","IconButton","variantColor","icon","Boolean","window","location","hostname","match","customTheme","theme","ReactDOM","render","StrictMode","ThemeProvider","CSSReset","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c3568408.chunk.js","sourcesContent":["export const MAX_SPELLS = 12;\nexport const BORDER_COLOR = \"gray.300\";\nexport const BORDER = \"solid 3px\";\n","import { Box, Input, InputProps, Text } from \"@chakra-ui/core\";\nimport React from \"react\";\n\nexport const LabelNumber: React.FC<{ label: string } & InputProps> = ({\n  label,\n  ...props\n}) => {\n  return (\n    <Box>\n      <Text>{label}</Text>\n      <Input {...props} />\n    </Box>\n  );\n};\n","import { Box, Button, Stack, Textarea } from \"@chakra-ui/core\";\nimport React from \"react\";\nimport { BORDER, BORDER_COLOR } from \"../constants\";\nimport { CharacterType } from \"../types\";\nimport { LabelNumber } from \"./LabelNumber\";\nimport { CharacterActions } from \"./UseCharacter\";\n\ntype MainCardProps = {\n  character: CharacterType;\n  dispatch: React.Dispatch<CharacterActions>;\n};\n\nexport const MainCard: React.FC<MainCardProps> = ({ character, dispatch }) => {\n  return (\n    <Stack\n      boxShadow=\"md\"\n      border={BORDER}\n      borderRadius=\"10px\"\n      borderColor={BORDER_COLOR}\n    >\n      <Box\n        p=\"10px\"\n        borderBottom={BORDER}\n        borderColor={BORDER_COLOR}\n        textAlign=\"center\"\n        fontSize=\"20px\"\n      >\n        Character Stats\n      </Box>\n      <Stack pt=\"5px\" px=\"10px\">\n        <LabelNumber\n          label=\"Percent Modifier\"\n          value={character.percentModifier}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n            event.preventDefault();\n            dispatch({ type: \"change_percent\", value: event.target.value });\n          }}\n        />\n        <LabelNumber\n          label=\"Flat Damage\"\n          value={character.flatDamage}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n            event.preventDefault();\n            dispatch({ type: \"change_flat\", value: event.target.value });\n          }}\n        />\n      </Stack>\n      <Box\n        py=\"10px\"\n        borderBottom={BORDER}\n        borderTop={BORDER}\n        borderColor={BORDER_COLOR}\n        fontSize=\"20px\"\n        textAlign=\"center\"\n        mb=\"100px\"\n      >\n        + / - Charms\n      </Box>\n      <Stack px=\"10px\" pb=\"10px\" pt=\"5px\">\n        <Textarea\n          height=\"212px\"\n          resize=\"vertical\"\n          placeholder=\"[percent] [name]\"\n          value={character.buffsRaw}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n            dispatch({ type: \"change_buffs\", value: event.target.value });\n          }}\n        />\n        <Button\n          onClick={() => dispatch({ type: \"change_buffs\", value: \"\" })}\n          mx=\"auto\"\n          mt=\"5px\"\n          w=\"40%\"\n        >\n          Clear\n        </Button>\n      </Stack>\n    </Stack>\n  );\n};\n","import { Menu, MenuButton, MenuItem, MenuList } from \"@chakra-ui/core\";\nimport React from \"react\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport { SpellActions } from \"./UseSpell\";\n\ntype CardOptionMenu = {\n  dispatch: React.Dispatch<SpellActions>;\n  id: string;\n  deleteSpell: (id: string) => void;\n};\n\nexport const CardOptionMenu: React.FC<CardOptionMenu> = ({\n  dispatch,\n  id,\n  deleteSpell,\n}) => {\n  return (\n    <Menu>\n      <MenuButton>\n        <BsThreeDotsVertical aria-label=\"spell-options\" size=\"24px\" />\n      </MenuButton>\n      <MenuList>\n        <MenuItem onClick={() => dispatch({ type: \"add_base\" })}>\n          Add Base\n        </MenuItem>\n        <MenuItem onClick={() => dispatch({ type: \"toggle_enchantment\" })}>\n          Toggle Enchantment\n        </MenuItem>\n        <MenuItem onClick={() => dispatch({ type: \"toggle_increment\" })}>\n          Toggle Increment\n        </MenuItem>\n        <MenuItem onClick={() => deleteSpell(id)}>Delete</MenuItem>\n      </MenuList>\n    </Menu>\n  );\n};\n","export const parseNum = (num: string) => {\n  const value = parseInt(num);\n  return value ? value : 0;\n};\n","import React, { useEffect } from \"react\";\nimport { CharacterType, SpellType } from \"../types\";\nimport { calculateDamage } from \"../utils/calculateDamage\";\nimport { parseNum } from \"../utils/parseNum\";\n\nexport type SpellActions =\n  | {\n      type: \"change_name\";\n      name: string;\n    }\n  | {\n      type: \"change_base\";\n      index: number;\n      value: string;\n    }\n  | {\n      type: \"add_base\";\n    }\n  | {\n      type: \"update_character\";\n      value: CharacterType;\n    }\n  | {\n      type: \"toggle_enchantment\";\n    }\n  | {\n      type: \"change_enchantment\";\n      value: string;\n    }\n  | {\n      type: \"toggle_increment\";\n    }\n  | {\n      type: \"change_increment\";\n      pips?: string;\n      base?: string;\n    };\n\nconst dpsCalcAll = (newState: SpellType) => {\n  for (let i = 0; i < newState.bases.length; i++) {\n    dpsCalc(newState, i);\n  }\n};\n\nconst dpsCalc = (newState: SpellType, index: number) => {\n  const enchantment = newState.enchantment ? newState.enchantment : 0;\n  const increment = newState.increment\n    ? newState.increment.base * newState.increment.pips\n    : 0;\n  newState.damages[index] = calculateDamage(\n    newState.character,\n    newState.bases[index] + enchantment + increment\n  );\n  return newState;\n};\n\nconst spellReducer = (state: SpellType, action: SpellActions): SpellType => {\n  switch (action.type) {\n    case \"change_name\": {\n      return { ...state, name: action.name };\n    }\n    case \"add_base\": {\n      const newState = { ...state };\n      newState.bases.push(0);\n      newState.damages.push(0);\n      return newState;\n    }\n    case \"change_base\": {\n      const newState = { ...state };\n      newState.bases[action.index] = parseNum(action.value);\n\n      dpsCalc(newState, action.index);\n      return newState;\n    }\n    case \"update_character\": {\n      const newState = { ...state };\n      newState.character = action.value;\n\n      dpsCalcAll(newState);\n      return newState;\n    }\n    case \"toggle_enchantment\": {\n      const newState = { ...state };\n      if (newState.enchantment === undefined) {\n        newState.enchantment = 0;\n      } else {\n        newState.enchantment = undefined;\n      }\n\n      dpsCalcAll(newState);\n      return newState;\n    }\n    case \"change_enchantment\": {\n      const newState = { ...state };\n      newState.enchantment = parseNum(action.value);\n\n      dpsCalcAll(newState);\n      return newState;\n    }\n    case \"toggle_increment\": {\n      const newState = { ...state };\n      if (newState.increment === undefined) {\n        newState.increment = {\n          base: 0,\n          pips: 1,\n        };\n      } else {\n        newState.increment = undefined;\n      }\n\n      dpsCalcAll(newState);\n      return newState;\n    }\n    case \"change_increment\": {\n      const newState = { ...state };\n      console.log(action);\n      if (action.base !== undefined) {\n        newState.increment!.base = parseNum(action.base);\n      }\n      if (action.pips !== undefined) {\n        newState.increment!.pips = parseNum(action.pips);\n      }\n\n      dpsCalcAll(newState);\n      return newState;\n    }\n    default: {\n      throw new Error(\"Error\");\n    }\n  }\n};\n\nexport const useSpell = ({\n  character,\n  id,\n}: {\n  character: CharacterType;\n  id: string;\n}) => {\n  const initState: SpellType = {\n    id,\n    name: \"Untitled\",\n    bases: [0],\n    damages: [0],\n    character,\n  };\n  const hook = React.useReducer(spellReducer, initState);\n\n  // Update character when it changes\n  const [, dispatch] = hook;\n  useEffect(() => {\n    dispatch({ type: \"update_character\", value: character });\n  }, [character, dispatch]);\n\n  return hook;\n};\n","import { CharacterType } from \"../types\";\n\nexport const calculateDamage = (character: CharacterType, base: number) => {\n  const { percentModifier, flatDamage, buffs } = character;\n  let dam = Math.floor(\n    (1 + Number(percentModifier) / 100) * Number(base) + Number(flatDamage)\n  );\n  for (let i = 0; i < buffs.length; i++) {\n    dam *= 1 + buffs[i] / 100;\n    dam = Math.floor(dam);\n  }\n  return dam;\n};\n","import { Box, Flex, Input, Stack, Text } from \"@chakra-ui/core\";\nimport React from \"react\";\nimport { BORDER, BORDER_COLOR } from \"../constants\";\nimport { CharacterType } from \"../types\";\nimport { CardOptionMenu } from \"./CardOptionMenu\";\nimport { LabelNumber } from \"./LabelNumber\";\nimport { useSpell } from \"./UseSpell\";\n\ntype SpellCardProps = {\n  character: CharacterType;\n  id: string;\n  deleteSpell: (id: string) => void;\n};\n\nexport const SpellCard: React.FC<SpellCardProps> = ({\n  character,\n  id,\n  deleteSpell,\n}) => {\n  const [spell, dispatch] = useSpell({ character, id });\n\n  return (\n    <Stack\n      w=\"100%\"\n      border={BORDER}\n      borderRadius=\"10px\"\n      boxShadow=\"md\"\n      borderColor={BORDER_COLOR}\n    >\n      <Box p=\"5px\" borderBottom={BORDER} borderColor={BORDER_COLOR}>\n        <Flex>\n          <Input\n            textAlign=\"center\"\n            fontSize=\"20px\"\n            mr=\"5px\"\n            border=\"none\"\n            spellCheck=\"false\"\n            value={spell.name}\n            onFocus={(event: React.ChangeEvent<HTMLInputElement>) => {\n              event.target.select();\n            }}\n            onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n              event.preventDefault();\n              dispatch({ type: \"change_name\", name: event.target.value });\n            }}\n          />\n          <CardOptionMenu\n            dispatch={dispatch}\n            deleteSpell={deleteSpell}\n            id={id}\n          />\n        </Flex>\n      </Box>\n      <Stack>\n        {spell.enchantment !== undefined ? (\n          <Box\n            px=\"10px\"\n            pb=\"10px\"\n            borderBottom={BORDER}\n            borderColor={BORDER_COLOR}\n          >\n            <LabelNumber\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                dispatch({\n                  type: \"change_enchantment\",\n                  value: event.target.value,\n                });\n              }}\n              value={spell.enchantment}\n              label=\"Enchantment\"\n            />\n          </Box>\n        ) : null}\n        {spell.increment !== undefined ? (\n          <Stack\n            px=\"10px\"\n            pb=\"10px\"\n            borderBottom={BORDER}\n            borderColor={BORDER_COLOR}\n          >\n            <Flex>\n              <Box pr=\"10px\">\n                <LabelNumber\n                  onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                    dispatch({\n                      type: \"change_increment\",\n                      pips: event.target.value,\n                    });\n                  }}\n                  value={spell.increment.pips}\n                  label=\"Pips\"\n                />\n              </Box>\n              <LabelNumber\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                  dispatch({\n                    type: \"change_increment\",\n                    base: event.target.value,\n                  });\n                }}\n                value={spell.increment.base}\n                label=\"Increment\"\n              />\n            </Flex>\n          </Stack>\n        ) : null}\n      </Stack>\n      <Stack px=\"10px\" pb=\"10px\">\n        {spell.bases.map((value, index) => {\n          return (\n            <Flex key={index}>\n              <Box w=\"45%\">\n                <Input\n                  value={value}\n                  onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                    event.preventDefault();\n                    dispatch({\n                      type: \"change_base\",\n                      index,\n                      value: event.target.value,\n                    });\n                  }}\n                />\n              </Box>\n              <Flex ml=\"auto\" w=\"50%\">\n                <Text\n                  flexWrap=\"wrap\"\n                  wordBreak=\"break-word\"\n                  my=\"auto\"\n                  ml=\"auto\"\n                  fontSize=\"18px\"\n                  fontWeight=\"bold\"\n                >\n                  {spell.damages[index].toLocaleString(\"en\", {\n                    useGrouping: true,\n                  })}\n                </Text>\n              </Flex>\n            </Flex>\n          );\n        })}\n      </Stack>\n    </Stack>\n  );\n};\n","import React from \"react\";\nimport { CharacterType } from \"../types\";\nimport { parseBuffs } from \"../utils/parseBuffs\";\nimport { parseNum } from \"../utils/parseNum\";\n\nexport type CharacterActions =\n  | { type: \"change_percent\"; value: string }\n  | { type: \"change_flat\"; value: string }\n  | {\n      type: \"change_buffs\";\n      value: string;\n    };\n\nconst characterReducer = (\n  state: CharacterType,\n  action: CharacterActions\n): CharacterType => {\n  switch (action.type) {\n    case \"change_percent\": {\n      const newState = { ...state };\n      newState.percentModifier = parseNum(action.value);\n      return newState;\n    }\n    case \"change_flat\": {\n      const newState = { ...state };\n      newState.flatDamage = parseNum(action.value);\n\n      return newState;\n    }\n    case \"change_buffs\": {\n      const newState = { ...state };\n      newState.buffs = parseBuffs(action.value);\n      newState.buffsRaw = action.value;\n\n      return newState;\n    }\n    default: {\n      throw new Error(\"Error\");\n    }\n  }\n};\n\nexport const useCharacter = ({ reducer = characterReducer } = {}) => {\n  const initState: CharacterType = {\n    percentModifier: 0,\n    flatDamage: 0,\n    pierce: 0,\n    buffs: [],\n    buffsRaw: \"\",\n    shields: [],\n    sheldsRaw: \"\",\n  };\n  return React.useReducer(reducer, initState);\n};\n","export const parseBuffs = (text: string) => {\n  let buffs = text.split(\"\\n\");\n  return buffs.map((element) => {\n    const b = parseInt(element.split(\" \")[0]);\n    if (!b) {\n      return 0;\n    }\n    return b;\n  });\n};\n","import { Box, Flex, Heading, IconButton } from \"@chakra-ui/core\";\nimport React, { useState } from \"react\";\nimport { v4 } from \"uuid\";\nimport { MainCard } from \"./components/MainCard\";\nimport { SpellCard } from \"./components/SpellCard\";\nimport { useCharacter } from \"./components/UseCharacter\";\nimport { BORDER, BORDER_COLOR, MAX_SPELLS } from \"./constants\";\n\nconst App: React.FC = () => {\n  const [character, setCharacter] = useCharacter();\n\n  const [spells, setSpells] = useState<string[]>([v4()]);\n\n  const deleteSpell = (id: string) => {\n    const index = spells.indexOf(id);\n    if (index !== -1) {\n      const newSpells = [];\n      for (let i = 0; i < spells.length; i++) {\n        if (index !== i) {\n          newSpells.push(spells[i]);\n        }\n      }\n\n      setSpells(newSpells);\n    }\n  };\n\n  const spellCards = spells.map((value) => {\n    return (\n      <Flex key={value} mb=\"auto\" pb=\"20px\" w=\"206px\" mr=\"20px\">\n        <SpellCard id={value} deleteSpell={deleteSpell} character={character} />\n      </Flex>\n    );\n  });\n\n  return (\n    <Box maxW=\"900px\" pl=\"20px\" mx=\"auto\">\n      <Box\n        my=\"20px\"\n        mr=\"20px\"\n        py=\"10px\"\n        boxShadow=\"md\"\n        border={BORDER}\n        borderRadius=\"10px\"\n        borderColor={BORDER_COLOR}\n      >\n        <Heading color=\"gray.900\" textAlign=\"center\" size=\"xl\">\n          Wiz Calculator 2\n        </Heading>\n      </Box>\n      <Box>\n        <Flex float=\"left\" minW=\"181px\" w=\"181px\" mr=\"20px\">\n          <MainCard character={character} dispatch={setCharacter} />\n        </Flex>\n        <Flex wrap=\"wrap\">\n          {spellCards}\n          <Flex w=\"206px\" mr=\"10px\">\n            {spells.length < MAX_SPELLS ? (\n              <IconButton\n                variantColor=\"blue\"\n                boxShadow=\"md\"\n                mx=\"auto\"\n                mt=\"25px\"\n                aria-label=\"Add Spellcard\"\n                icon=\"add\"\n                onClick={() => {\n                  const newSpells = [...spells];\n                  newSpells.push(v4());\n                  setSpells(newSpells);\n                }}\n              />\n            ) : null}\n          </Flex>\n        </Flex>\n      </Box>\n    </Box>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { DefaultTheme, theme } from \"@chakra-ui/core\";\n\nexport const customTheme: DefaultTheme = {\n  ...theme,\n};\n\nexport default customTheme;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { CSSReset, ThemeProvider } from \"@chakra-ui/core\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport customTheme from \"./theme\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={customTheme}>\n      <CSSReset />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}