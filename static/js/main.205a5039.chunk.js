(this["webpackJsonpwiz-calc-2"]=this["webpackJsonpwiz-calc-2"]||[]).push([[0],{48:function(e,a,t){e.exports=t(60)},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(23),l=t.n(c),u=t(45),o=t(20),i=t(37),m=t(5),p=t(65),s=t(66),h=t(69),d=t(14),f=t(63),b=function(e){var a=e.children,t=Object(d.a)(e,["children"]);return r.a.createElement(f.a,Object.assign({spacing:"5px",boxShadow:"md",border:"solid 3px",borderRadius:"10px",borderColor:"gray.300"},t),a)},g=t(38),v=t(64),E=t(32),x=function(e){var a=e.children,t=Object(d.a)(e,["children"]);return r.a.createElement(f.a,Object.assign({spacing:"10px",px:"10px",pb:"10px",pt:"5px"},t),a)},w=function(e){var a=e.children,t=Object(d.a)(e,["children"]);return r.a.createElement(f.a,Object.assign({p:"10px",borderBottom:"solid 3px",borderColor:"gray.300",spacing:"10px"},t),a)},O=function(e){var a=e.children,t=Object(d.a)(e,["children"]);return r.a.createElement(f.a,Object.assign({spacing:"5px",px:"10px",pb:"10px",mb:"5px",borderBottom:"solid 3px",borderColor:"gray.300"},t),a)},j=t(46),y=function(e){var a=e.children,t=Object(d.a)(e,["children"]);return r.a.createElement(m.a,null,r.a.createElement(g.a,null,a),r.a.createElement(j.a,t))},_=function(e){var a=e.character,t=e.dispatch;return r.a.createElement(b,null,r.a.createElement(w,null,r.a.createElement(g.a,{textAlign:"center",fontSize:"20px"},"Character Stats")),r.a.createElement(O,null,r.a.createElement(y,{value:a.percentModifier,onChange:function(e){e.preventDefault(),t({type:"change_percent",value:e.target.value})}},"Percent Modifier"),r.a.createElement(y,{value:a.flatDamage,onChange:function(e){e.preventDefault(),t({type:"change_flat",value:e.target.value})}},"Flat Damage")),r.a.createElement(O,null,r.a.createElement(g.a,{fontSize:"20px",textAlign:"center"},"+ / - Charms")),r.a.createElement(x,null,r.a.createElement(v.a,{height:"212px",resize:"vertical",placeholder:"[percent] [name]",value:a.buffsRaw,onChange:function(e){t({type:"change_buffs",value:e.target.value})}}),r.a.createElement(E.a,{onClick:function(){return t({type:"change_buffs",value:""})},mx:"auto",w:"40%"},"Clear")))},C=t(67),S=t(44),k=function(e){var a=e.dispatch,t=e.id,n=e.deleteSpell;return r.a.createElement(C.d,null,r.a.createElement(C.a,null,r.a.createElement(S.a,{"aria-label":"spell-options",size:"24px"})),r.a.createElement(C.c,null,r.a.createElement(C.b,{onClick:function(){return a({type:"add_base"})}},"Add Base"),r.a.createElement(C.b,{onClick:function(){return a({type:"toggle_enchantment"})}},"Toggle Enchantment"),r.a.createElement(C.b,{onClick:function(){return a({type:"toggle_increment"})}},"Toggle Increment"),r.a.createElement(C.b,{onClick:function(){return n(t)}},"Delete")))},z=t(9),D=function(e){var a=parseInt(e);return a||0},M=function(e){for(var a=0;a<e.bases.length;a++)B(e,a)},B=function(e,a){var t=e.enchantment?e.enchantment:0,n=e.increment?e.increment.base*e.increment.pips:0;return e.damages[a]=function(e,a){for(var t=e.percentModifier,n=e.flatDamage,r=e.buffs,c=Math.floor((1+Number(t)/100)*Number(a)+Number(n)),l=0;l<r.length;l++)c*=1+r[l]/100,c=Math.floor(c);return c}(e.character,e.bases[a]+t+n),e},R=function(e,a){switch(a.type){case"change_name":return Object(z.a)(Object(z.a)({},e),{},{name:a.name});case"add_base":var t=Object(z.a)({},e);return t.bases.push(0),t.damages.push(0),t;case"change_base":var n=Object(z.a)({},e);return n.bases[a.index]=D(a.value),B(n,a.index),n;case"update_character":var r=Object(z.a)({},e);return r.character=a.value,M(r),r;case"toggle_enchantment":var c=Object(z.a)({},e);return void 0===c.enchantment?c.enchantment=0:c.enchantment=void 0,M(c),c;case"change_enchantment":var l=Object(z.a)({},e);return l.enchantment=D(a.value),M(l),l;case"toggle_increment":var u=Object(z.a)({},e);return void 0===u.increment?u.increment={base:0,pips:1}:u.increment=void 0,M(u),u;case"change_increment":var o=Object(z.a)({},e);return console.log(a),void 0!==a.base&&(o.increment.base=D(a.base)),void 0!==a.pips&&(o.increment.pips=D(a.pips)),M(o),o;default:throw new Error("Error")}},W=function(e){var a=e.character,t=e.id,c=e.deleteSpell,l=function(e){var a=e.character,t={id:e.id,name:"Untitled",bases:[0],damages:[0],character:a},c=r.a.useReducer(R,t),l=Object(o.a)(c,2)[1];return Object(n.useEffect)((function(){l({type:"update_character",value:a})}),[a,l]),c}({character:a,id:t}),u=Object(o.a)(l,2),p=u[0],s=u[1];return r.a.createElement(b,null,r.a.createElement(w,{p:"5px"},r.a.createElement(i.a,null,r.a.createElement(i.a,null,r.a.createElement(j.a,{textAlign:"center",fontSize:"20px",mr:"5px",border:"none",spellCheck:"false",value:p.name,onFocus:function(e){e.target.select()},onChange:function(e){e.preventDefault(),s({type:"change_name",name:e.target.value})}})),r.a.createElement(i.a,null,r.a.createElement(k,{dispatch:s,deleteSpell:c,id:t})))),void 0!==p.enchantment?r.a.createElement(O,null,r.a.createElement(y,{onChange:function(e){s({type:"change_enchantment",value:e.target.value})},value:p.enchantment},"Enchantment")):null,void 0!==p.increment?r.a.createElement(O,null,r.a.createElement(i.a,null,r.a.createElement(m.a,{pr:"10px"},r.a.createElement(y,{onChange:function(e){s({type:"change_increment",pips:e.target.value})},value:p.increment.pips},"Pips")),r.a.createElement(y,{onChange:function(e){s({type:"change_increment",base:e.target.value})},value:p.increment.base},"Base"))):null,r.a.createElement(x,null,p.bases.map((function(e,a){return r.a.createElement(i.a,{key:a},r.a.createElement(m.a,{w:"45%"},r.a.createElement(j.a,{value:e,onChange:function(e){e.preventDefault(),s({type:"change_base",index:a,value:e.target.value})}})),r.a.createElement(i.a,{ml:"auto",w:"50%"},r.a.createElement(g.a,{flexWrap:"wrap",wordBreak:"break-word",my:"auto",ml:"auto",fontSize:"18px",fontWeight:"bold"},p.damages[a].toLocaleString("en",{useGrouping:!0}))))}))))},A=function(){return r.a.createElement(b,null,r.a.createElement(E.a,null,"Save"))},I=function(e,a){switch(a.type){case"change_percent":var t=Object(z.a)({},e);return t.percentModifier=D(a.value),t;case"change_flat":var n=Object(z.a)({},e);return n.flatDamage=D(a.value),n;case"change_buffs":var r=Object(z.a)({},e);return r.buffs=a.value.split("\n").map((function(e){var a=parseInt(e.split(" ")[0]);return a||0})),r.buffsRaw=a.value,r;default:throw new Error("Error")}},N=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.reducer,t=void 0===a?I:a,n={percentModifier:0,flatDamage:0,pierce:0,buffs:[],buffsRaw:"",shields:[],sheldsRaw:""};return r.a.useReducer(t,n)}(),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([Object(h.a)()]),d=Object(o.a)(l,2),f=d[0],g=d[1],v=function(e){var a=f.indexOf(e);if(-1!==a){for(var t=[],n=0;n<f.length;n++)a!==n&&t.push(f[n]);g(t)}},E=f.map((function(e){return r.a.createElement(i.a,{key:e,mb:"auto",pb:"20px",w:"206px",mr:"20px"},r.a.createElement(W,{id:e,deleteSpell:v,character:t}))}));return r.a.createElement(m.a,{maxW:"900px",pl:"20px",mx:"auto"},r.a.createElement(b,{py:"10px",mr:"20px",my:"20px"},r.a.createElement(p.a,{color:"gray.900",textAlign:"center",size:"xl"},"Wiz Calculator 2")),r.a.createElement(m.a,null,r.a.createElement(m.a,{float:"left",minW:"181px",w:"181px",mr:"20px"},r.a.createElement(m.a,{mb:"20px"},r.a.createElement(_,{character:t,dispatch:c})),r.a.createElement(A,null)),r.a.createElement(i.a,{wrap:"wrap"},E,r.a.createElement(i.a,{w:"216px",mr:"10px"},f.length<12?r.a.createElement(s.a,{variantColor:"blue",boxShadow:"md",mx:"auto",mt:"25px","aria-label":"Add Spellcard",icon:"add",onClick:function(){var e=Object(u.a)(f);e.push(Object(h.a)()),g(e)}}):null))))},F=t(18),J=t(70);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=t(68),T=Object(z.a)({},P.a);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F.a,{theme:T},r.a.createElement(J.a,null),r.a.createElement(N,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.205a5039.chunk.js.map